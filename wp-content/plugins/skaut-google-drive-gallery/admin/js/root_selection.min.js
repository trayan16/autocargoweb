"use strict";function isError(t){return t.error!==undefined}jQuery(document).ready(function(i){var r=sgdgRootpathLocalize.root_dir;function a(t){var e="";0<r.length&&(e+='<tr><td class="row-title"><label>..</label></td></tr>');for(var o=0;o<t.directories.length;o++)e+='<tr class="',(0===r.length&&1==o%2||0<r.length&&0==o%2)&&(e+="alternate"),e+='"><td class="row-title"><label data-id="'+t.directories[o].id+'">'+t.directories[o].name+"</label></td></tr>";i("#sgdg_root_selection_body").html(e),e="",0===r.length?e=sgdgRootpathLocalize.drive_list:i("#submit").removeAttr("disabled");for(o=0;o<r.length;o++)0<o&&(e+=" > "),e+='<a data-id="'+r[o]+'">'+t.path[o]+"</a>";i(".sgdg_root_selection_path").html(e),i(".sgdg_root_selection_path a").click(function(){!function o(t){var e=i(t).data("id");r=r.slice(0,r.indexOf(e)+1),n()}(this)}),i("#sgdg_root_selection_body label").click(function(){!function o(t){var e=i(t).data("id");e?r.push(e):r.pop(),n()}(this)}),i("#sgdg_root_path").val(JSON.stringify(r))}function n(){i("#sgdg_root_selection_body").html(""),i("#submit").attr("disabled","disabled"),i.get(sgdgRootpathLocalize.ajax_url,{_ajax_nonce:sgdgRootpathLocalize.nonce,action:"list_gdrive_dir",path:r},function(t){isError(t)?function o(t){var e='<div class="notice notice-error"><p>'+t+"</p></div>";i(".sgdg_root_selection").replaceWith(e)}(t.error):(t.resetWarn&&(r=[],function e(t){i('<div class="notice notice-warning"><p>'+t+"</p></div>").insertBefore(".sgdg_root_selection")}(t.resetWarn)),t.directories&&a(t))})}n()});