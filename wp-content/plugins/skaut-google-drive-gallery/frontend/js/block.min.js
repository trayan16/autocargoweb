jQuery(document).ready(function(n){"use strict";var o,r,t=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),e=(r=wp.element.Component,t(s,r),s.prototype.componentDidMount=function(){this.ajax()},s.prototype.render=function(){var e=this,t=wp.element.createElement;if(this.state.error)return t("div",{"class":"notice notice-error"},t("p",null,this.state.error));var r=[],o=this.getAttribute("path"),n=[t("a",{onClick:function(t){e.pathClick(t)}},sgdgBlockLocalize.root_name)];if(this.state.list){0<o.length&&r.push(t("tr",null,t("td",{"class":"row-title"},t("label",{onClick:function(t){e.labelClick(t)}},".."))));for(var s=0;s<this.state.list.length;s++){var i=0===o.length&&1==s%2||0<o.length&&0==s%2?"alternate":"";r.push(t("tr",{"class":i},t("td",{"class":"row-title"},t("label",{onClick:function(t){e.labelClick(t)}},this.state.list[s]))))}for(s=0;s<o.length;s++)n.push(" > "),n.push(t("a",{"data-id":o[s],onClick:function(t){e.pathClick(t)}},o[s]))}return t(wp.element.Fragment,null,[t(wp.editor.InspectorControls,null,t(C,{editor:this})),t("table",{"class":"widefat"},[t("thead",null,t("tr",null,t("th",{"class":"sgdg-block-editor-path"},n))),t("tbody",null,r),t("tfoot",null,t("tr",null,t("th",{"class":"sgdg-block-editor-path"},n)))])])},s.prototype.getAttribute=function(t){return this.props.attributes[t]},s.prototype.setAttribute=function(t,e){var r={};r[t]=e,this.props.setAttributes(r)},s.prototype.ajax=function(){var r=this;n.get(sgdgBlockLocalize.ajax_url,{_ajax_nonce:sgdgBlockLocalize.nonce,action:"list_gallery_dir",path:this.getAttribute("path")},function(t){!function e(t){return t.error!==undefined}(t)?r.setState({list:t.directories}):r.setState({error:t.error})})},s.prototype.pathClick=function(t){var e=this,r=this.getAttribute("path");r=r.slice(0,r.indexOf(n(t.currentTarget).data("id"))+1),this.setAttribute("path",r),this.setState({error:undefined,list:undefined},function(){return e.ajax()})},s.prototype.labelClick=function(t){var e=this,r=n(t.currentTarget).text(),o=this.getAttribute("path");o=".."===r?o.slice(0,o.length-1):o.concat(r),this.setAttribute("path",o),this.setState({error:undefined,list:undefined},function(){return e.ajax()})},s);function s(t){var e=r.call(this,t)||this;return e.state={error:undefined,list:undefined},e}t=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var i,a,c=(a=wp.element.Component,t(l,a),l.prototype.render=function(){var t=wp.element.createElement;return t("svg",{"class":"sgdg-block-icon",viewBox:"0 0 103 89"},[t("defs",null,[t("style",null,".cls-2 {opacity: 0.5;} .cls-3 {fill: #ffcf4a;} .cls-4 {fill: #25a366;} .cls-5 {fill: #4385f4;} .cls-6 {fill: #0da960;} .cls-7 {fill: url(#a);} .cls-8 {fill: url(#b);} .cls-9 {fill: #2d6fdd;} .cls-10 {fill: #e5b93c;} .cls-11 {fill: #0c9b57;}"),t("radialGradient",{id:"a",cx:"2799.2",cy:"3846.9",r:"21.21",gradientTransform:"matrix(2.83 1.63 1.63 -2.83 -14102 6364.8)",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"#4387fd",offset:"0"}),t("stop",{"stop-color":"#3078f0",offset:".65"}),t("stop",{"stop-color":"#2b72ea",offset:".91"}),t("stop",{"stop-color":"#286ee6",offset:"1"})]),t("radialGradient",{id:"b",cx:"2799.2",cy:"3846.9",r:"21.21",gradientTransform:"matrix(2.83 1.63 1.63 -2.83 -14102 6364.8)",gradientUnits:"userSpaceOnUse"},[t("stop",{"stop-color":"#ffd24d",offset:"0"}),t("stop",{"stop-color":"#f6c338",offset:"1"})])]),t("title",null,"skaut-google-drive-gallery-icon"),t("g",{transform:"translate(-13.66,-20.66)"},[t("image",{"class":"cls-2",transform:"translate(38.66,46.66)",width:"78",height:"63",opacity:".5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABACAYAAABbYipTAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVR4Xu3cMW6jUBSF4f89MnJB9gB1InkLLllBevdZz/TuswKX2QLSuLb3EAoX8KbASbADZCans8/XIKFL8+thKt+QUsJ+5u67AQDqKqfNCmJ2/93o1ejaN7L2wHLbTI2EyZM3DJZSAekJKMaHr9IBwgshHKZCjserq5wuriCu6YPdn6751+Gr1QAH4K2/dhti9zoM+DXeR7jsGdKK2wo2pYHwCu3vYcB4NuJwU/K+R/ZMF1fUVQ6XH4y0KKFdO9yoU8DYkH4dgD+fJ6+uclL3AOkBh5uSAwWkHIavbVqU/Rc1lGNP2buUk1JBXeXx7ObtfVF/IJSQnkiL8vyDYf/i49V1PIHjCRxP4HgCxxM4nsDxBI4ncDyB4wkcT+B4AscTOJ7A8QSOJ3A8geMJHE/geALHEziewPEEjidwPIHjCRxP4HgCxxM4nsDxBI4ncDyB4wkcT+B4AscTOJ7A8QSOJ3A8geMJHE/geALH+3+n3QOhGcQL7wsJJldhGEDa91svjvvPeOHY3yTtpx4zGgg7Qtyx3A5O3nLbEOIOwg6fvjGnDRfdpj9ol7954biHbtMPOeDA6GqQmb0qcQ084r/Oj4aDuY0+bVYQ4uMNrkG6NLrNB+Z2ScFtLuC6NLOQaz6ezfoL4Yavo8+beCoAAAAASUVORK5CYII="}),t("rect",{"class":"cls-1",x:"42.7",y:"50.11",width:"70.5",height:"55.68",rx:"6.75",ry:"6.75",fill:"#fff"}),t("path",{"class":"cls-3",d:"m106.45 51.72a5.16 5.16 0 0 1 5.14 5.14v42.14a5.16 5.16 0 0 1 -5.14 5.14h-57a5.16 5.16 0 0 1 -5.14 -5.14v-42.14a5.16 5.16 0 0 1 5.14 -5.14h57m0-3.22h-57a8.37 8.37 0 0 0 -8.36 8.36v42.14a8.37 8.37 0 0 0 8.36 8.36h57a8.37 8.37 0 0 0 8.36 -8.36v-42.14a8.37 8.37 0 0 0 -8.36 -8.36z",fill:"#ffcf4a"}),t("g",{fill:"#ffcf4a"},[t("circle",{"class":"cls-3",cx:"104.25",cy:"65.75",r:"5.24"}),t("polygon",{"class":"cls-3",points:"63.76 74.09 45 102.03 47.68 104.18 108.08 104.18 110.9 102.15 87.75 60.09 71.49 85.98"})]),t("image",{"class":"cls-2",transform:"translate(26.66,33.66)",width:"77",height:"63",opacity:".5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABACAYAAAC0oEFtAAAACXBIWXMAAAsSAAALEgHS3X78AAACFElEQVR4Xu3cMW7iYBCG4W+GFBEO4gimzhYcgVNQIqXfmlNQp0eipE/PEShwjY+AiFGKZWYLMOvAGsJstfH31GMkvxrjyr+4O+h+D7cGAKA/Gyc73aa6l6dbs/87a/l72zr5cjQprs3J3zbuPJSJpaoYOjy9GP5mBJKbYa6u+bWIF+H6s3Hyge0A6i+nUC5PgKeAJOc/8P14AUgO8fcyIlRW5wE/hSujudhPAINmhLrmEFEEK5hMH9FZlPFO4RjtGi8ALMT1tYx3ejnsbNPTB3mBM9olSQAfQL3Y/drkAFYKHLYNKs8OPDNaHUkcnqq0EgBQ4LhtiiHce1evbTxJTCztz8aJAoBKK/HGvDX/gXtPFcOdbXp6a5aq/jyuDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMF8RwQQwXxHBBDBfEcEEMdxcvBJKb7wsFAPN9IZD8+Ak11RFZm2He1u5aAaCt3bUZ5hBZ37i0wbwQIIN5thxNDhu3HE0KmGcCZNy6GpVtAyr/cW3trmEyBbBgvHOftw2ohFuOJsUjOgtxfRWRN3D7cLz/TETeYDIttw2oOelmp9sU5j+acixQnS+fdFPVpIOo6tx1thJ9zW+sRPfOhOkHWAAAAABJRU5ErkJggg=="}),t("rect",{"class":"cls-1",x:"29.85",y:"37.25",width:"70.5",height:"55.68",rx:"6.75",ry:"6.75",fill:"#fff"}),t("path",{"class":"cls-4",d:"m93.59 38.87a5.15 5.15 0 0 1 5.14 5.13v42.18a5.16 5.16 0 0 1 -5.14 5.15h-57a5.16 5.16 0 0 1 -5.14 -5.15v-42.18a5.15 5.15 0 0 1 5.14 -5.14h57m0-3.23h-57a8.38 8.38 0 0 0 -8.35 8.37v42.18a8.37 8.37 0 0 0 8.36 8.37h57a8.38 8.38 0 0 0 8.4 -8.37v-42.18a8.39 8.39 0 0 0 -8.37 -8.37z",fill:"#25a366"}),t("g",{fill:"#25a366"},[t("circle",{"class":"cls-4",cx:"65.1",cy:"63.1",r:"9"}),t("path",{"class":"cls-4",d:"m47.23 91.76c1.76-9.28 7.6-16.15 14.48-16.15h6.77c6.88 0 12.72 6.87 14.48 16.15z"}),t("circle",{"class":"cls-4",cx:"87.85",cy:"58.32",r:"5.43"}),t("path",{"class":"cls-4",d:"m77.07 75.61c1.06-5.6 4.58-9.74 8.73-9.74h4.09c4.15 0 7.68 4.14 8.74 9.74z"}),t("circle",{"class":"cls-4",cx:"42.34",cy:"58.32",r:"5.43"}),t("path",{"class":"cls-4",d:"m31.56 75.61c1.06-5.6 4.59-9.74 8.74-9.74h4.09c4.15 0 7.67 4.14 8.73 9.74z"})]),t("image",{"class":"cls-2",transform:"translate(13.66,20.66)",width:"78",height:"63",opacity:".5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABACAYAAABbYipTAAAACXBIWXMAAAsSAAALEgHS3X78AAACHElEQVR4Xu3cPXLaUBTF8XOfBGNGmRRsAGq8CEpm3NOnT5tl0KanZwUpWYRdow1QeKyBQejdFCCDiTAkp4vOr9VH8Z+rN9Bcc3fIvwm3bpDr0msXJjNkVbkbeNx+uXbP/87Cw1vS6ea/fqBovH752Z6i7R5DCFN3DJoebAMz5DHGhYXuc1PED/EmM2Tl9nWcJOk39/gI2ABAdvnSFikAz83Cc1Xt552Hr8vzgB/OvHKzHh7C+RNgI7Q7HABkgI3c/SlJ0u/l9nU8mZ2avJ95kxkyC92RA4r2p8zdx0mSFuVmnQP9Z+Bs8srNehhCmMJ9ePUV7ZY5MLLQHdXTFwBN3d3chyGEablZD4FjPE3d3TJ3DCykp8mzkGbHnySaur+gfxgExSMoHkHxCIpHUDyC4hEUj6B4BMUjKB5B8QiKR1A8guIRFI+geATFIygeQfEIikdQPILiERSPoHgExSMoHkHxCIpHUDyC4hEUj6B4BMUjKB5B8QiKR1A8guIRFI+geATFIygeQfEIAQA87gsz5EDzIgJpFgCg0+uvYowLmK1u3N92hRlyj/sCOMY7LB2IOVyT9ymzVYxx0en1V8DZmadP96bCgBePu5d6w8V7vE6vv6qq/dzMllDAS4WZLatqP6+nDtBelXvU4X5e7lW5Y6NP6yIWgOdAeAMOW32aFtIADfFqbV2LVK9AAmIOfL5P6mq8WtsWct1avnXuN8rX846ofphwAAAAAElFTkSuQmCC"}),t("rect",{"class":"cls-1",x:"16.99",y:"24.4",width:"70.5",height:"55.68",rx:"6.75",ry:"6.75",fill:"#fff"}),t("path",{"class":"cls-5",d:"m80.74 26a5.16 5.16 0 0 1 5.14 5.14v42.19a5.16 5.16 0 0 1 -5.14 5.14h-57a5.16 5.16 0 0 1 -5.14 -5.14v-42.18a5.16 5.16 0 0 1 5.14 -5.15h57m0-3.22h-57a8.37 8.37 0 0 0 -8.36 8.36v42.19a8.37 8.37 0 0 0 8.36 8.36h57a8.37 8.37 0 0 0 8.36 -8.36v-42.18a8.37 8.37 0 0 0 -8.36 -8.36z",fill:"#4385f4"})]),t("g",{transform:"translate(-13.66,-20.66)"},[t("path",{"class":"cls-6",d:"m40.66 67.63-6.18-10.71 11.58-20.07 6.18 10.71z",fill:"#0da960"}),t("path",{"class":"cls-7",d:"m40.66 67.63 6.19-10.71h23.15l-6.18 10.71z",fill:"url(#a)"}),t("path",{"class":"cls-8",d:"m70 56.92h-12.37l-11.57-20.07h12.37z",fill:"url(#b)"}),t("path",{"class":"cls-9",d:"m52.24 56.92h-5.39l2.68-4.68-8.87 15.39z",fill:"#2d6fdd"}),t("path",{"class":"cls-10",d:"m57.63 56.92h12.37l-15-4.68z",fill:"#e5b93c"}),t("path",{"class":"cls-11",d:"m49.53 52.24 2.71-4.68-6.18-10.71z",fill:"#0c9b57"})])])},l);function l(){return null!==a&&a.apply(this,arguments)||this}wp.blocks.registerBlockType("skaut-google-drive-gallery/gallery",{title:sgdgBlockLocalize.block_name,description:sgdgBlockLocalize.block_description,category:"common",icon:c,attributes:{path:{type:"array","default":[]},grid_height:{type:"number"},grid_spacing:{type:"number"},dir_counts:{type:"string"},page_size:{type:"number"},page_autoload:{type:"string"},image_ordering_order:{type:"string"},image_ordering_by:{type:"string"},dir_ordering_order:{type:"string"},dir_ordering_by:{type:"string"},preview_size:{type:"number"},preview_loop:{type:"string"}},edit:e,save:function H(){return null},transforms:{from:[{type:"shortcode",tag:"sgdg",priority:15,attributes:{path:{type:"string",shortcode:function L(t){return t.named.path?t.named.path.trim().replace(/^\/+|\/+$/g,"").split("/"):[]}}}}]}});t=this&&this.__extends||(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var p,d,u=(d=wp.element.Component,t(h,d),h.prototype.render=function(){var t=this,e=wp.element.createElement,r=undefined===this.props.editor.getAttribute(this.props.name);return e("div",{className:"sgdg-block-settings-row "},[e(wp.components.ToggleControl,{checked:!r,className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),e("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),this.renderInput()])},h.prototype.change=function(t){var e=this.getValue(t.target);this.setState({value:e}),this.props.editor.setAttribute(this.props.name,undefined===e?sgdgBlockLocalize[this.props.name]["default"]:e)},h.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name,undefined!==this.props.editor.getAttribute(this.props.name)?undefined:this.state.value)},h);function h(t){var e=d.call(this,t)||this,r=e.props.editor.getAttribute(e.props.name);return undefined===r&&(r=sgdgBlockLocalize[e.props.name]["default"]),e.state={value:r},e}var g,f,A=((t=this&&this.__extends||(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}))(m,f=u),m.prototype.renderInput=function(){var e=this,t=wp.element.createElement,r=undefined===this.props.editor.getAttribute(this.props.name);return t("input",{checked:"true"===this.state.value,className:"sgdg-block-settings-boolean",disabled:r,onChange:function(t){e.change(t)},type:"checkbox"})},m.prototype.getValue=function(t){return t.checked?"true":"false"},m);function m(){return null!==f&&f.apply(this,arguments)||this}var y,b,_=((t=this&&this.__extends||(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}))(v,b=u),v.prototype.renderInput=function(){var e=this;return(0,wp.element.createElement)("input",{className:"sgdg-block-settings-integer components-range-control__number",disabled:undefined===this.props.editor.getAttribute(this.props.name),onChange:function(t){e.change(t)},placeholder:sgdgBlockLocalize[this.props.name]["default"],type:"number",value:this.state.value})},v.prototype.getValue=function(t){var e=parseInt(t.value);return isNaN(e)?undefined:e},v);function v(){return null!==b&&b.apply(this,arguments)||this}t=this&&this.__extends||(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var B,w,k=(w=wp.element.Component,t(E,w),E.prototype.render=function(){var e=this,t=wp.element.createElement,r=undefined===this.props.editor.getAttribute(this.props.name+"_by"),o=undefined===this.props.editor.getAttribute(this.props.name+"_order"),n=this.state.valueBy,s=this.state.valueOrder;return t("div",{className:"sgdg-block-settings-row"},[t(wp.components.ToggleControl,{checked:!r&&!o,className:"sgdg-block-settings-checkbox",onChange:function(){e.toggle()}}),t("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),t("select",{className:"sgdg-block-settings-select",disabled:o,onChange:function(t){e.changeOrder(t)},placeholder:sgdgBlockLocalize[this.props.name].default_order,type:"number",value:s},[t("option",{selected:"ascending"===s,value:"ascending"},sgdgBlockLocalize.ordering_option_ascending),t("option",{selected:"descending"===s,value:"descending"},sgdgBlockLocalize.ordering_option_descending)]),t("label",{className:"sgdg-block-settings-radio","for":this.props.name+"_by_time"},[t("input",{checked:"time"===n,disabled:r,id:this.props.name+"_by_time",name:this.props.name+"_by",onChange:function(t){e.changeBy(t)},type:"radio",value:"time"}),sgdgBlockLocalize.ordering_option_by_time]),t("label",{className:"sgdg-block-settings-radio","for":this.props.name+"_by_name"},[t("input",{checked:"name"===n,disabled:r,id:this.props.name+"_by_name",name:this.props.name+"_by",onChange:function(t){e.changeBy(t)},type:"radio",value:"name"}),sgdgBlockLocalize.ordering_option_by_name])])},E.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name+"_by",undefined!==this.props.editor.getAttribute(this.props.name+"_by")?undefined:this.state.valueBy),this.props.editor.setAttribute(this.props.name+"_order",undefined!==this.props.editor.getAttribute(this.props.name+"_order")?undefined:this.state.valueOrder)},E.prototype.changeBy=function(t){var e=t.target;this.setState({valueBy:e.value}),this.props.editor.setAttribute(this.props.name+"_by",e.value)},E.prototype.changeOrder=function(t){var e=t.target;this.setState({valueOrder:e.value}),this.props.editor.setAttribute(this.props.name+"_order",e.value)},E);function E(t){var e=w.call(this,t)||this,r=e.props.editor.getAttribute(e.props.name+"_by"),o=e.props.editor.getAttribute(e.props.name+"_order");return undefined===r&&(r=sgdgBlockLocalize[e.props.name].default_by),undefined===o&&(o=sgdgBlockLocalize[e.props.name].default_order),e.state={valueBy:r,valueOrder:o},e}t=this&&this.__extends||(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var O,x,C=(x=wp.element.Component,t(z,x),z.prototype.render=function(){var t=wp.element.createElement;return t(wp.components.PanelBody,{title:sgdgBlockLocalize.settings_override,className:"sgdg-block-settings",children:[t("h3",null,sgdgBlockLocalize.grid_section_name),t(_,{editor:this.props.editor,name:"grid_height"}),t(_,{editor:this.props.editor,name:"grid_spacing"}),t(A,{editor:this.props.editor,name:"dir_counts"}),t(_,{editor:this.props.editor,name:"page_size"}),t(A,{editor:this.props.editor,name:"page_autoload"}),t(k,{editor:this.props.editor,name:"image_ordering"}),t(k,{editor:this.props.editor,name:"dir_ordering"}),t("h3",null,sgdgBlockLocalize.lightbox_section_name),t(_,{editor:this.props.editor,name:"preview_size"}),t(A,{editor:this.props.editor,name:"preview_loop"})]})},z);function z(){return null!==x&&x.apply(this,arguments)||this}});